# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'homepage.ui'
#
# Created by: PyQt5 UI code generator 5.15.2
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtWidgets import * 
# from PyQt5.QtCore import Qt
from PyQt5.QtGui import * 
import numpy as np
import matplotlib.pyplot as plt




class Ui_MainWindow(object):
    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(832, 655)
        font = QtGui.QFont()
        font.setUnderline(False)
        MainWindow.setFont(font)
        MainWindow.setContextMenuPolicy(QtCore.Qt.DefaultContextMenu)
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.label = QtWidgets.QLabel(self.centralwidget)
        self.label.setGeometry(QtCore.QRect(150, 0, 671, 121))
        font = QtGui.QFont()
        font.setBold(True)
        font.setUnderline(False)
        self.label.setFont(font)
        self.label.setAutoFillBackground(True)
        self.label.setStyleSheet("border-color: rgb(0, 0, 0);")
        self.label.setText("")
        self.label.setPixmap(QtGui.QPixmap("images/mergeimg.jpg"))
        self.label.setScaledContents(True)
        self.label.setWordWrap(False)
        self.label.setObjectName("label")
        self.frame = QtWidgets.QFrame(self.centralwidget)
        self.frame.setGeometry(QtCore.QRect(0, 0, 151, 641))
        self.frame.setStyleSheet("background-color: rgb(0, 1, 86);\n"
"")
        self.frame.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame.setFrameShadow(QtWidgets.QFrame.Raised)
        self.frame.setObjectName("frame")
        self.label_2 = QtWidgets.QLabel(self.frame)
        self.label_2.setGeometry(QtCore.QRect(40, 10, 71, 61))
        self.label_2.setStyleSheet("")
        self.label_2.setText("")
        self.label_2.setPixmap(QtGui.QPixmap("images/logo2.png"))
        self.label_2.setScaledContents(True)
        self.label_2.setObjectName("label_2")
        self.label_3 = QtWidgets.QLabel(self.frame)
        self.label_3.setGeometry(QtCore.QRect(40, 70, 81, 21))
        self.label_3.setStyleSheet("color: rgb(255, 255, 255);\n"
"font: 700 10pt \"Segoe UI\";")
        self.label_3.setObjectName("label_3")
        self.layoutWidget = QtWidgets.QWidget(self.centralwidget)
        self.layoutWidget.setGeometry(QtCore.QRect(10, 180, 131, 220))
        self.layoutWidget.setObjectName("layoutWidget")
        self.verticalLayout = QtWidgets.QVBoxLayout(self.layoutWidget)
        self.verticalLayout.setContentsMargins(0, 0, 0, 0)
        self.verticalLayout.setObjectName("verticalLayout")
        self.pushButton = QtWidgets.QPushButton(self.layoutWidget)
        self.pushButton.setMinimumSize(QtCore.QSize(35, 50))
        font = QtGui.QFont()
        font.setBold(True)
        font.setUnderline(False)
        self.pushButton.setFont(font)
        self.pushButton.setAutoFillBackground(False)
        self.pushButton.setStyleSheet("background-color: rgb(0, 0, 0);\n"
"color: rgb(255, 255, 255);")
        self.pushButton.setObjectName("pushButton")
        self.verticalLayout.addWidget(self.pushButton)
        self.pushButton_3 = QtWidgets.QPushButton(self.layoutWidget)
        self.pushButton_3.setMinimumSize(QtCore.QSize(35, 50))
        font = QtGui.QFont()
        font.setBold(True)
        font.setUnderline(False)
        self.pushButton_3.setFont(font)
        self.pushButton_3.setAutoFillBackground(False)
        self.pushButton_3.setStyleSheet("background-color: rgb(0, 0, 0);\n"
"color: rgb(255, 255, 255);")
        self.pushButton_3.setObjectName("pushButton_3")
        self.verticalLayout.addWidget(self.pushButton_3)
        self.pushButton_2 = QtWidgets.QPushButton(self.layoutWidget)
        self.pushButton_2.setMinimumSize(QtCore.QSize(35, 50))
        font = QtGui.QFont()
        font.setBold(True)
        font.setUnderline(False)
        self.pushButton_2.setFont(font)
        self.pushButton_2.setAutoFillBackground(False)
        self.pushButton_2.setStyleSheet("background-color: rgb(0, 0, 0);\n"
"color: rgb(255, 255, 255);")
        self.pushButton_2.setObjectName("pushButton_2")
        self.verticalLayout.addWidget(self.pushButton_2)
        self.pushButton_4 = QtWidgets.QPushButton(self.layoutWidget)
        self.pushButton_4.setMinimumSize(QtCore.QSize(35, 50))
        font = QtGui.QFont()
        font.setBold(True)
        font.setUnderline(False)
        self.pushButton_4.setFont(font)
        self.pushButton_4.setAutoFillBackground(False)
        self.pushButton_4.setStyleSheet("background-color: rgb(0, 0, 0);\n"
"color: rgb(255, 255, 255);")
        self.pushButton_4.setObjectName("pushButton_4")
        self.verticalLayout.addWidget(self.pushButton_4)
        self.frame_2 = QtWidgets.QFrame(self.centralwidget)
        self.frame_2.setGeometry(QtCore.QRect(150, 120, 671, 521))
        self.frame_2.setStyleSheet("background-color: rgb(0, 93, 93);\n"
"")
        self.frame_2.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame_2.setFrameShadow(QtWidgets.QFrame.Raised)
        self.frame_2.setObjectName("frame_2")
        self.label_4 = QtWidgets.QLabel(self.frame_2)
        self.label_4.setGeometry(QtCore.QRect(240, 10, 211, 51))
        self.label_4.setStyleSheet("color: rgb(255, 255, 255);\n"
"font: 700 10pt \"Segoe UI\";")
        self.label_4.setObjectName("label_4")
        self.frame_3 = QtWidgets.QFrame(self.frame_2)
        self.frame_3.setGeometry(QtCore.QRect(10, 70, 651, 41))
        self.frame_3.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.frame_3.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame_3.setFrameShadow(QtWidgets.QFrame.Raised)
        self.frame_3.setObjectName("frame_3")
        self.label_5 = QtWidgets.QLabel(self.frame_3)
        self.label_5.setGeometry(QtCore.QRect(10, 10, 61, 21))
        self.label_5.setObjectName("label_5")
        self.stateoption = QtWidgets.QComboBox(self.frame_3)
        self.stateoption.setGeometry(QtCore.QRect(80, 10, 131, 22))
        self.stateoption.setObjectName("stateoption")
        for i in range (len(t)):                                                #yahan maine state ka skeleton dala haai
                self.stateoption.addItem("")
        
        self.label_7 = QtWidgets.QLabel(self.frame_3)
        self.label_7.setGeometry(QtCore.QRect(250, 10, 51, 21))
        self.label_7.setObjectName("label_7")
        self.monthoption = QtWidgets.QComboBox(self.frame_3)
        self.monthoption.setGeometry(QtCore.QRect(300, 10, 121, 22))
                                                                                 
        self.monthoption.setObjectName("monthoption")
        self.funanalyse = QtWidgets.QPushButton(self.frame_3)
        self.funanalyse.setGeometry(QtCore.QRect(490, 10, 151, 24))
        for i in range (12):                                                   #yahan maine month ka skeleton dala haai
                self.monthoption.addItem("")

        self.funanalyse.setStyleSheet("background-color: rgb(0, 130, 0);\n"
"color: rgb(255, 255, 255);")
        self.funanalyse.setObjectName("funanalyse")
        self.label_8 = QtWidgets.QLabel(self.frame_2)
        self.label_8.setGeometry(QtCore.QRect(330, 160, 331, 251))
        self.label_8.setText("")
        self.label_8.setPixmap(QtGui.QPixmap("images/pie.png"))
        self.label_8.setScaledContents(True)
        self.label_8.setObjectName("label_8")

        self.label_6 = QtWidgets.QLabel(self.frame_2)
        self.label_6.setGeometry(QtCore.QRect(420, 430, 91, 21))
        self.label_6.setStyleSheet("color: rgb(255, 255, 255);\n"
"font: 700 10pt \"Segoe UI\";")
        self.label_6.setObjectName("label_6")
        self.label_9 = QtWidgets.QLabel(self.frame_2)
        self.label_9.setGeometry(QtCore.QRect(530, 430, 91, 21))
        self.label_9.setStyleSheet("color: rgb(255, 255, 255);\n"
"font: 700 10pt \"Segoe UI\";")
        self.label_9.setObjectName("label_9")




        self.rainfalltable = QtWidgets.QTableWidget(self.frame_2)
        self.rainfalltable.setGeometry(QtCore.QRect(10, 160, 301, 311))
        self.rainfalltable.setAutoFillBackground(False)
        self.rainfalltable.setGridStyle(QtCore.Qt.SolidLine)
        self.rainfalltable.setObjectName("rainfalltable")
        self.rainfalltable.setColumnCount(2)
        # self.rainfalltable.setColumnWidth(0,10)
        self.rainfalltable.setColumnWidth(0,140)
        self.rainfalltable.setColumnWidth(1,140)
        # self.rainfalltable.setRowCount(0)
        self.rainfalltable.setStyleSheet("background-color:white;\n"
"color: black;font: 500 9pt;")
        item = QtWidgets.QTableWidgetItem()
        self.rainfalltable.setHorizontalHeaderItem(0, item)
        item = QtWidgets.QTableWidgetItem()
        self.rainfalltable.setHorizontalHeaderItem(1, item)

        self.pushButton_8 = QtWidgets.QPushButton(self.frame_2)
        self.pushButton_8.setGeometry(QtCore.QRect(570, 480, 91, 24))
        self.pushButton_8.setStyleSheet("background-color: rgb(122, 0, 0);\n"
"color: rgb(255, 255, 255);")
        self.pushButton_8.setObjectName("pushButton_8")
        self.frame.raise_()
        self.label.raise_()
        self.layoutWidget.raise_()
        self.frame_2.raise_()
        MainWindow.setCentralWidget(self.centralwidget)
        self.statusbar = QtWidgets.QStatusBar(MainWindow)
        self.statusbar.setObjectName("statusbar")
        MainWindow.setStatusBar(self.statusbar)

        self.retranslateUi(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow) 

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "MainWindow"))
        self.label_3.setText(_translate("MainWindow", "KISAN SEVA"))
        self.pushButton.setText(_translate("MainWindow", "Rainfall"))
        self.pushButton_3.setText(_translate("MainWindow", "Production"))
        self.pushButton_2.setText(_translate("MainWindow", "Temperature"))
        self.pushButton_4.setText(_translate("MainWindow", "Prediction"))
        self.label_4.setText(_translate("MainWindow", "<html><head/><body><p><span style=\" font-size:18pt;\">RAINFALL STATS:</span></p></body></html>"))
        self.label_5.setText(_translate("MainWindow", "Select State"))
        self.label_6.setText(_translate("MainWindow", "Average  Rain : "))
        self.label_9.setText(_translate("MainWindow", "00"))
        
        for i in range (len(t)):
                self.stateoption.setItemText(i, _translate("MainWindow", t[i]))                 #yahan maine State ka data dala haai
    
        self.label_7.setText(_translate("MainWindow", "Month"))
        ar=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]
        for i in range (12):
                self.monthoption.setItemText(i, _translate("MainWindow", ar[i]))                #yahan maine month ka data dala haai


        self.funanalyse.setText(_translate("MainWindow", "Analyse"))
        self.funanalyse.pressed.connect(self.func)
        # item = self.rainfalltable.horizontalHeaderItem(0)
        # item.setText(_translate("MainWindow", "s.no"))
        item = self.rainfalltable.horizontalHeaderItem(0)
        item.setText(_translate("MainWindow", "YEAR"))
        item = self.rainfalltable.horizontalHeaderItem(1)
        item.setText(_translate("MainWindow", "RAINFALL"))
        self.pushButton_8.setText(_translate("MainWindow", "BACK"))
#-----------------------------------------------------------------my functions--------------------------------------------------------------
    def func(self):
            statecontent=self.stateoption.currentText() 
            monthcontent=self.monthoption.currentText()
            self.find(statecontent,monthcontent)
    def find(self,statecontent,monthcontent):
            te=df.loc[(df["States"]==statecontent)]
            a=te["YEAR"]
            b=te[monthcontent]
            l=zip(a,b)
            c=0
            ar2=[]
            for i in (l):
                c+=1
                ar2.append((i[0],i[1]))
            self.rainfalltable.setRowCount(len(ar2))

            for i in range (len(ar2)):
                    self.rainfalltable.setItem(i,0,QtWidgets.QTableWidgetItem(str(ar2[i][0])))
                    
                    self.rainfalltable.setItem(i,1,QtWidgets.QTableWidgetItem(str(ar2[i][1])))
            plt.figure(figsize = (10, 5))
            plt.bar(a, b,width = 0.3)
            plt.savefig("pie.png")
            self.label_8.setPixmap(QtGui.QPixmap("pie.png"))

            an=te[monthcontent].mean()
            self.label_9.setText(str(round(an,2))+" mm")
            

                
                    


        

 

if __name__ == "__main__":
    import sys
    import pandas as pd 
    df=pd.read_csv("rainfall.csv")
    t=df["States"].unique()

    app = QtWidgets.QApplication(sys.argv)
    MainWindow = QtWidgets.QMainWindow()
    ui = Ui_MainWindow()
    ui.setupUi(MainWindow)
    MainWindow.show()
    sys.exit(app.exec_())
